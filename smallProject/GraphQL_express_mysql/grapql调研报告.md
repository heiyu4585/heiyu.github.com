#grapql调研报告 



## GraphQL是什么
`GraphQL` 是一个Facebook于2012开发出来且2015开源的应用层的查询语言,你需要在后台定义一个基于GraphQL的图形模式,然后你的客户端就可以查询他们想要的数据,而不需要后台重新定义一个接口返回你需要的数据.

![graphql介绍](http://ww3.sinaimg.cn/large/006y8lVagw1face0i49unj31kw0wxmzx.jpg)

因为不需要更改你后台,所以这种方式比 `REST API` 方式更好,让我们可以在不同的客户端上灵活改变数据显示.

GraphQL 是一个规范.这意味着你可以在任何语言上实现 GraphQL.[点击这里](http://facebook.github.io/graphql/)你可以查看更多关于 GraphQL 的介绍.Facebook 有一个对于[JavaScript](https://github.com/graphql/graphql-js)的 GraphQL 实现.


## 为什么要用

GraphQL对你的API中的数据提供了一套易于理解的完整描述，使得客户端能够准确地获得它需要的数据，而且没有任何冗余，也让 API 更容易地随着时间推移而演进，还能用于构建强大的开发者工具。 
  获取多个资源只用一个请求 

1. 声明式。描述所有的可能类型系统 查询的结果格式由请求方（即客户端）决定而非响应方（即服务器端）决定。你不需要编写很多额外的接口来适配客户端请求

2. 减少开发文档的维护工作量,相对应的减少沟通成本

3. 强类型。每个 GraphQL 查询必须遵循其设定的类型才会被执行。

4. 请求合并 多个接口可以通过组合为一个

5. 请求你所要的数据不多不少 



## 开发感受

1.后端提供接口时,直接把所有的字段提供即可,不能考虑字段的组合,拆分等

2.小的字段改动,不用与后台沟通

3.工作量

>后端会相对增加对接口及字段的graphql描述语言

>前端的工作量主要在接口的调用方式改变,不会增加其他

## 缺点

1.后端带来性能损耗,只需要少部分字段,也会查询全部字段

3.生态环境不健全,文档,支持,比较少

4.学习成本较高

https://zhuanlan.zhihu.com/p/23647589

结论:

暂不适合大面积推广,可小范围尝试GraphQL


疑虑:

1. 访问一个接口,是否会造成单个接口压力过大,对于mysql的压力问题

2. 性能问题,安全性,及 运维等,后续的持续工作

3. 使用场景
`这里Github暗示GraphQL非常适合于具有大量各异客户的应用场景，其中客户对底层数据具有复杂规模的需求。
而对于为一个并没有多少开发人员消费的简单网站提供API，GraphQL并不能体现出其相对于REST的优越性。`

4. 高并发,分布式等